(function(e){function t(t){for(var a,i,r=t[0],c=t[1],l=t[2],d=0,v=[];d<r.length;d++)i=r[d],o[i]&&v.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},o={app:0},n=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"20cf":function(e,t,s){},"2aae":function(e,t,s){"use strict";var a=s("20cf"),o=s.n(a);o.a},"56d7":function(e,t,s){"use strict";s.r(t);s("744f"),s("6c7b"),s("7514"),s("20d6"),s("1c4c"),s("6762"),s("cadf"),s("e804"),s("55dd"),s("d04f"),s("c8ce"),s("217b"),s("7f7f"),s("f400"),s("7f25"),s("536b"),s("d9ab"),s("f9ab"),s("32d7"),s("25c9"),s("9f3c"),s("042e"),s("c7c6"),s("f4ff"),s("049f"),s("7872"),s("a69f"),s("0b21"),s("6c1a"),s("c7c62"),s("84b4"),s("c5f6"),s("2e37"),s("fca0"),s("7cdf"),s("ee1d"),s("b1b1"),s("87f3"),s("9278"),s("5df2"),s("04ff"),s("f751"),s("4504"),s("fee7"),s("ffc1"),s("0d6d"),s("9986"),s("8e6e"),s("25db"),s("e4f7"),s("b9a1"),s("64d5"),s("9aea"),s("db97"),s("66c8"),s("57f0"),s("165b"),s("456d"),s("cf6a"),s("fd24"),s("8615"),s("551c"),s("097d"),s("df1b"),s("2397"),s("88ca"),s("ba16"),s("d185"),s("ebde"),s("2d34"),s("f6b3"),s("2251"),s("c698"),s("a19f"),s("9253"),s("9275"),s("3b2b"),s("3846"),s("4917"),s("a481"),s("28a5"),s("386d"),s("6b54"),s("4f7f"),s("8a81"),s("ac4d"),s("8449"),s("9c86"),s("fa83"),s("48c0"),s("a032"),s("aef6"),s("d263"),s("6c37"),s("9ec8"),s("5695"),s("2fdb"),s("d0b0"),s("b54a"),s("f576"),s("ed50"),s("788d"),s("14b9"),s("f386"),s("f559"),s("1448"),s("673e"),s("242a"),s("c66f"),s("b05c"),s("34ef"),s("6aa2"),s("15ac"),s("af56"),s("b6e4"),s("9c29"),s("63d9"),s("4dda"),s("10ad"),s("c02b"),s("4795"),s("130f"),s("ac6a"),s("96cf");var a=s("2b0e"),o=s("ce5b"),n=s.n(o);s("bf40");a["default"].use(n.a,{iconfont:"md"});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{light:""}},[e.user?s("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list",[e._l(e.items,function(t,a){return s("v-list-tile",{key:a,attrs:{value:"true",router:"",to:t.action}},[s("v-list-tile-action",[s("v-icon",{domProps:{innerHTML:e._s(t.icon)}})],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:e._s(t.title)}})],1)],1)}),e.user?s("v-list-tile",{on:{click:e.onLogout}},[s("v-list-tile-action",[s("v-icon",[e._v("exit_to_app")])],1),s("v-list-tile-content",[e._v("\n          Logout\n        ")])],1):e._e()],2)],1):e._e(),e.user?s("v-toolbar",{staticClass:"blue",attrs:{app:""}},[s("v-toolbar-side-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),s("v-toolbar-title",{staticClass:"white--text"},[e._v("Tickets")]),s("v-spacer")],1):e._e(),s("v-content",[s("v-alert",{staticClass:"alert-message",attrs:{transition:"scale-transition",type:e.typeAlert},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v("\n      "+e._s(e.messageAlert)+"\n      "),s("v-icon",{staticClass:"right-position",on:{click:e.closeAlertMessage}},[e._v("\n        close\n      ")])],1),s("router-view")],1),s("v-footer",{attrs:{fixed:e.fixed,app:""}},[s("span",[e._v("© Tickets - VUE - Gilberto Méndez")])])],1)},r=[],c={name:"App",data:function(){return{clipped:!1,fixed:!1,items:[{icon:"toc",title:"Tickets",action:"/tickets"},{icon:"turned_in",title:"Statuses",action:"/status"},{icon:"group",title:"Users",action:"/users"},{icon:"account_circle",title:"Roles",action:"/roles"},{icon:"info",title:"About",action:"/about"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Tickets",drawer:!0}},methods:{closeAlertMessage:function(){this.$store.dispatch("message/modifyAlert",!1,{root:!0}),this.$store.dispatch("message/modfyTypeAlert","",{root:!0}),this.$store.dispatch("message/modifyMessageAlert","",{root:!0})},onLogout:function(){this.$store.dispatch("user/logout")}},computed:{alert:function(){return this.$store.getters["message/getAlert"]},typeAlert:function(){return this.$store.getters["message/getTypeAlert"]},messageAlert:function(){return this.$store.getters["message/getMessage"]},user:function(){return this.$store.getters["user/getUserAuthenticated"]}}},l=c,u=(s("964b"),s("2877")),d=Object(u["a"])(l,i,r,!1,null,"696de428",null);d.options.__file="App.vue";var v=d.exports,m=s("8c4f"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",[s("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[s("v-card",{staticClass:"mt-4"},[s("v-img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/9/95/Vue.js_Logo_2.svg","aspect-ratio":"2.75"}}),s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"headline mb-3"},[e._v("Application created by Gilberto Méndez")]),s("p",[s("v-icon",[e._v("\n              label_important\n            ")]),e._v("\n            Github: "),s("a",{attrs:{href:"https://github.com/Gil7"}},[e._v("Gil7")])],1),s("p",[s("v-icon",[e._v("\n              email\n            ")]),e._v("\n            Email: "),s("a",{attrs:{href:"gilberto.mendez.santiz@gmaio.com"}},[e._v("gilberto.mendez.santiz@gmail.com")])],1)])]),s("v-card-actions")],1)],1)],1)},h=[],p=(s("2aae"),{}),g=Object(u["a"])(p,f,h,!1,null,null,null);g.options.__file="About.vue";var _=g.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-card",[s("v-card-title",[s("v-icon",[e._v("\n        bookmarks\n      ")]),e._v("\n      Tickets\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{headers:e.headers,items:e.tickets,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.customer))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.company))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.subject))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.description))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.status.status))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.assigned.name))]),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(s){e.editTicket(t.item)}}},[e._v("\n          edit\n        ")]),s("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(s){e.removeTicket(t.item)}}},[e._v("\n          delete\n        ")])],1)]}}])},[s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])],1),s("v-btn",{attrs:{fab:"",dark:"",bottom:"",right:"",fixed:"",router:"",to:"/new-ticket",color:"blue"}},[s("v-icon",[e._v("add")])],1)],1),s("v-dialog",{attrs:{width:"300px"},model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}},[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n                Remove ticket\n            ")]),s("v-card-text",[e.ticketToDelete?s("p",[e._v("\n                  Do you really want to delete this ticket:\n                  "+e._s(e.ticketToDelete._id)+"\n              ")]):e._e()]),s("v-card-actions",[s("v-btn",{staticClass:"error",on:{click:e.cancelRemove}},[s("v-icon",[e._v("\n                      close\n                  ")])],1),s("v-btn",{staticClass:"success",on:{click:e.onRemoveTicket}},[s("v-icon",[e._v("\n                      check\n                  ")])],1)],1)],1)],1)],1)},b=[],x=s("c665"),y=function e(t,s,a,o,n,i,r){Object(x["a"])(this,e),this._id=t,this.customer=s,this.company=a,this.subject=o,this.description=n,this.status=i,this.assigned=r},w={components:{},data:function(){return{dialog:!1,search:"",loading:!0,headers:[{text:"Customer",align:"left",value:"customer"},{text:"Company",value:"company"},{text:"Subject",value:"subject"},{text:"Description",value:"description"},{text:"Status",value:"status"},{text:"Assigned to",value:"assigned"},{text:"Actions",value:"name",sortable:!1}],remove:!1,ticketToDelete:new y("","","","","","","")}},created:function(){this.$store.dispatch("ticket/loadTickets"),this.$store.dispatch("status/loadStatuses")},methods:{editTicket:function(e){console.log("TICKER ID ",e),this.$router.push({name:"editTicket",params:{id:e._id}})},removeTicket:function(e){this.ticketToDelete=e,this.remove=!0},onRemoveTicket:function(){this.$store.dispatch("ticket/removeTicket",this.ticketToDelete),this.remove=!1,this.ticketToDelete=new y("","","","","","","")},closeModal:function(e){this.remove=e},cancelRemove:function(){this.ticketToDelete=new y("","","","","","",""),this.remove=!1}},computed:{tickets:function(){return this.$store.getters["ticket/loadedTickets"]},statuses:function(){return this.$store.getters["status/statuses"]}}},T=w,A=(s("9d85"),Object(u["a"])(T,k,b,!1,null,"e2b78384",null));A.options.__file="Home.vue";var $=A.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md6:"","offset-md3":""}},[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[s("v-icon",[e._v("\n                    account_circle\n                ")]),s("h3",[e._v("Login")])],1),s("v-card-text",[s("v-form",[s("v-input",{attrs:{"prepend-icon":"email"}},[e._v("\n                        Email\n                    ")]),s("v-text-field",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-input",{attrs:{"prepend-icon":"vpn_key"}},[e._v("\n                        Password\n                    ")]),s("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("v-card-actions",[s("v-btn",{staticClass:"blue white--text",attrs:{disabled:e.invalidLogin},on:{click:e.onSubmit}},[e._v("\n                Sign in\n                ")])],1)],1)],1)],1)],1)},R=[],S={data:function(){return{email:"",password:""}},methods:{onSubmit:function(){this.$store.dispatch("user/loginUser",{email:this.email,password:this.password})}},computed:{invalidLogin:function(){return""==this.email||""==this.password}}},U=S,E=Object(u["a"])(U,C,R,!1,null,null,null);E.options.__file="Login.vue";var M=E.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-card",[s("v-card-title",[s("v-icon",[e._v("\n          bookmark\n      ")]),e._v("\n      Statuses\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{headers:e.headers,items:e.statuses,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),s("td",{staticClass:"text-xs-left"},[s("v-chip",{staticClass:"info"},[e._v("\n                  "+e._s(t.item.active?"Active":"Inactive")+"\n              ")])],1),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(s){e.editStatus(t.item)}}},[e._v("\n                  edit\n              ")]),s("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(s){e.removeStatus(t.item)}}},[e._v("\n                  delete\n              ")])],1)]}}])},[s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.editingStatus,callback:function(t){e.editingStatus=t},expression:"editingStatus"}},[s("edit-status",{attrs:{status:e.statusEditing},on:{cancelEditing:e.cancelEditing}})],1),s("v-dialog",{attrs:{width:"300px"},model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}},[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n                Remove status\n            ")]),s("v-card-text",[e.statusToDelete?s("p",[e._v("\n                  Do you really want to delete this status:\n                  "+e._s(e.statusToDelete.status)+"\n              ")]):e._e()]),s("v-card-actions",[s("v-btn",{staticClass:"error",on:{click:e.cancelRemove}},[s("v-icon",[e._v("\n                      close\n                  ")])],1),s("v-btn",{staticClass:"success",on:{click:e.onRemoveStatus}},[s("v-icon",[e._v("\n                      check\n                  ")])],1)],1)],1)],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",fab:"",dark:"",bottom:"",right:"",fixed:"",color:"blue"},slot:"activator"},[s("v-icon",[e._v("add")])],1),s("new-status",{on:{cancel:e.closeModal}})],1)],1)],1)},D=[],L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        Create new Status\n    ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name status",required:""},model:{value:e.status.status,callback:function(t){e.$set(e.status,"status",t)},expression:"status.status"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.closeModal}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:!e.status.status},on:{click:e.addStatus}},[e._v("\n            Add\n            "),s("v-spacer"),s("v-icon",[e._v("\n                send\n            ")])],1)],1)],1)},O=[],I=function e(t,s,a){Object(x["a"])(this,e),this._id=t,this.status=s,this.active=a},P={data:function(){return{status:new I("","","")}},methods:{closeModal:function(){this.$emit("cancel",!1)},addStatus:function(){console.log(this.status),this.$store.dispatch("status/storeStatus",this.status),this.$emit("cancel",!1),this.status=new I("","","")}}},z=P,G=Object(u["a"])(z,L,O,!1,null,null,null);G.options.__file="ModalNewStatus.vue";var N=G.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        Edit Status\n    ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name status",required:""},model:{value:e.status.status,callback:function(t){e.$set(e.status,"status",t)},expression:"status.status"}}),s("v-select",{attrs:{items:e.items,label:"Solo field","item-text":"status","item-value":"value",solo:""},model:{value:e.status.active,callback:function(t){e.$set(e.status,"active",t)},expression:"status.active"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.cancelEditing}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:!e.status.status},on:{click:e.updateStatus}},[e._v("\n            Update\n            "),s("v-spacer"),s("v-icon",[e._v("\n                refresh\n            ")])],1)],1)],1)},Y=[],F={props:["status"],data:function(){return{items:[{status:"Active",value:!0},{status:"Inactive",value:!1}]}},methods:{cancelEditing:function(){this.$emit("cancelEditing",!1)},updateStatus:function(){this.$store.dispatch("status/updateStatus",this.status),this.$emit("cancelEditing",!1)}}},J=F,V=Object(u["a"])(J,q,Y,!1,null,null,null);V.options.__file="EditStatus.vue";var H=V.exports,K={components:{"new-status":N,"edit-status":H},data:function(){return{headers:[{text:"Name",value:"status"},{text:"Status",value:"active"},{text:"Actions",name:"actions",sortable:!1}],search:"",dialog:!1,remove:!1,statusToDelete:null,statusEditing:new I("","",""),editingStatus:!1}},created:function(){this.$store.dispatch("status/loadStatuses")},methods:{closeModal:function(e){this.dialog=!1},editStatus:function(e){this.statusEditing=e,this.editingStatus=!0},cancelEditing:function(){this.statusEditing=new I("","",""),this.editingStatus=!1},removeStatus:function(e){this.statusToDelete=e,this.remove=!0},cancelRemove:function(){this.remove=!1,this.statusToDelete},onRemoveStatus:function(){this.$store.dispatch("status/removeStatus",this.statusToDelete._id),this.remove=!1,this.statusToDelete=null}},computed:{statuses:function(){return this.$store.getters["status/getStatuses"]}}},X=K,B=Object(u["a"])(X,j,D,!1,null,null,null);B.options.__file="Status.vue";var Q=B.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-card",[s("v-card-title",[s("v-icon",[e._v("\n          account_circle\n      ")]),e._v("\n      Users\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.name))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.lastname))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.email))]),s("td",{staticClass:"text-xs-left"},[t.item.active?s("v-chip",{staticClass:"success"},[e._v("\n                  Yes\n              ")]):s("v-chip",{staticClass:"error"},[e._v("\n                  No\n              ")])],1),s("td",{staticClass:"text-xs-left"},["Administrator"==t.item.role.name?s("v-chip",{staticClass:"white--text error"},[s("v-icon",[e._v("\n                      account_circle\n                  ")]),e._v("\n                  "+e._s(t.item.role.name)+"\n              ")],1):s("v-chip",{staticClass:"warning white--text"},[s("v-icon",[e._v("\n                      account_circle\n                  ")]),e._v("\n                  \n                  "+e._s(t.item.role.name)+"\n              ")],1)],1),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(s){e.editUser(t.item)}}},[e._v("\n                  edit\n              ")]),s("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(s){e.removeUser(t.item)}}},[e._v("\n                  delete\n              ")])],1)]}}])},[s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.editingUser,callback:function(t){e.editingUser=t},expression:"editingUser"}},[s("edit-user",{attrs:{user:e.userEditing},on:{cancelEditing:e.cancelEditing}})],1),s("v-dialog",{attrs:{width:"300px"},model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}},[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n                Remove user\n            ")]),s("v-card-text",[e.userToDelete?s("p",[e._v("\n                  Do you really want to delete this user:\n                  "+e._s(e.userToDelete.name)+"\n              ")]):e._e()]),s("v-card-actions",[s("v-btn",{staticClass:"error",on:{click:e.cancelRemove}},[s("v-icon",[e._v("\n                      close\n                  ")])],1),s("v-btn",{staticClass:"success",on:{click:e.onRemoveUser}},[s("v-icon",[e._v("\n                      check\n                  ")])],1)],1)],1)],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",fab:"",dark:"",bottom:"",right:"",fixed:"",color:"blue"},slot:"activator"},[s("v-icon",[e._v("add")])],1),s("new-user",{on:{cancel:e.closeModal}})],1)],1)],1)},Z=[],ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        \n        Create new user\n        "),s("v-icon",{staticClass:"ml-3"},[e._v("\n            account_circle\n        ")])],1),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name",required:""},model:{value:e.newuser.name,callback:function(t){e.$set(e.newuser,"name",t)},expression:"newuser.name"}}),s("v-text-field",{attrs:{placeholder:"LastName",required:""},model:{value:e.newuser.lastname,callback:function(t){e.$set(e.newuser,"lastname",t)},expression:"newuser.lastname"}}),s("v-text-field",{attrs:{placeholder:"Email",required:"",type:"email"},model:{value:e.newuser.email,callback:function(t){e.$set(e.newuser,"email",t)},expression:"newuser.email"}}),s("v-text-field",{attrs:{placeholder:"Password",required:"",type:"password"},model:{value:e.newuser.password,callback:function(t){e.$set(e.newuser,"password",t)},expression:"newuser.password"}}),s("v-select",{attrs:{items:e.roles,label:"Choose Role","item-text":"name","item-value":"_id",required:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.closeModal}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:e.invalidForm},on:{click:e.addUser}},[e._v("\n            Add\n            "),s("v-spacer"),s("v-icon",[e._v("\n                send\n            ")])],1)],1)],1)},te=[],se=function e(t,s,a,o,n){Object(x["a"])(this,e),this.id=t,this.name=s,this.lastname=a,this.email=o,this.role=n},ae={data:function(){return{newuser:new se("","","","",""),role:""}},methods:{closeModal:function(){this.$emit("cancel",!1)},addUser:function(){this.newuser.role=this.role,this.$store.dispatch("user/storeUser",this.newuser),this.$emit("cancel",!1),this.newuser=new se}},created:function(){console.log(this.roles," ROLES...")},computed:{invalidForm:function(){return""==this.newuser.email||""==this.newuser.password||""==this.newuser.name},roles:function(){return this.$store.getters["roles/getRoles"]}}},oe=ae,ne=Object(u["a"])(oe,ee,te,!1,null,null,null);ne.options.__file="ModalNewUser.vue";var ie=ne.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        Edit User\n    ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name role",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.cancelEditing}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:!e.user.name},on:{click:e.updateUser}},[e._v("\n            Update\n            "),s("v-spacer"),s("v-icon",[e._v("\n                refresh\n            ")])],1)],1)],1)},ce=[],le={props:["user"],data:function(){return{}},methods:{cancelEditing:function(){this.$emit("cancelEditing",!1)},updateUser:function(){this.$store.dispatch("user/updateUser",this.user),this.$emit("cancelEditing",!1)}}},ue=le,de=Object(u["a"])(ue,re,ce,!1,null,null,null);de.options.__file="EditUser.vue";var ve=de.exports,me={components:{"new-user":ie,"edit-user":ve},data:function(){return{headers:[{text:"Name",value:"name"},{text:"Lastname",value:"lastname"},{text:"Email",value:"email"},{text:"Active",value:"active"},{text:"Role",value:"role.role"},{text:"Actions",name:"actions",sortable:!1}],search:"",dialog:!1,remove:!1,userToDelete:null,userEditing:new se("","","","",""),editingUser:!1}},created:function(){this.$store.dispatch("user/loadUsers"),this.$store.dispatch("roles/loadRoles")},methods:{closeModal:function(e){this.dialog=!1},editUser:function(e){this.userEditing=e,this.editingUser=!0},cancelEditing:function(){this.userEditing=new se("","","","",""),this.editingUser=!1},removeUser:function(e){this.userToDelete=e,this.remove=!0},cancelRemove:function(){this.remove=!1,this.userToDelete},onRemoveUser:function(){this.$store.dispatch("user/removeUser",this.userToDelete._id),this.remove=!1,this.userToDelete=null}},computed:{users:function(){return this.$store.getters["user/getUsers"]},roles:function(){return this.$store.getters["roles/getRoles"]}}},fe=me,he=Object(u["a"])(fe,W,Z,!1,null,null,null);he.options.__file="Users.vue";var pe=he.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text",attrs:{"primary-title":""}},[s("v-icon",[e._v("\n                list\n            ")]),e._v("\n            Create new Ticket\n        ")],1),s("v-card-text",[s("v-form",[s("v-icon",[e._v("\n                    face\n                ")]),s("v-text-field",{attrs:{label:"Customer",required:"",hint:"Customer's name here..."},model:{value:e.ticket.customer,callback:function(t){e.$set(e.ticket,"customer",t)},expression:"ticket.customer"}}),s("v-icon",[e._v("\n                    group\n                ")]),s("v-text-field",{attrs:{hint:"Type de company's name here...",label:"Company",required:""},model:{value:e.ticket.company,callback:function(t){e.$set(e.ticket,"company",t)},expression:"ticket.company"}}),s("v-text-field",{attrs:{label:"Subject",required:""},model:{value:e.ticket.subject,callback:function(t){e.$set(e.ticket,"subject",t)},expression:"ticket.subject"}}),s("v-icon",[e._v("\n                    assignment\n                ")]),s("v-textarea",{attrs:{label:"Description",hint:"Type the description here..."},model:{value:e.ticket.description,callback:function(t){e.$set(e.ticket,"description",t)},expression:"ticket.description"}}),s("v-select",{attrs:{items:e.statuses,label:"Status","item-text":"status","item-value":"_id"},model:{value:e.ticket.status,callback:function(t){e.$set(e.ticket,"status",t)},expression:"ticket.status"}}),s("v-select",{attrs:{items:e.users,"item-text":"name","item-value":"_id",label:"User",hint:"User assigned"},model:{value:e.ticket.assigned,callback:function(t){e.$set(e.ticket,"assigned",t)},expression:"ticket.assigned"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",router:"",to:"/tickets"}},[e._v("\n                Cancel\n            ")]),s("v-btn",{attrs:{color:"success"},on:{click:e.addTicket}},[e._v("\n            \n            Add\n            ")])],1)],1)],1)},_e=[],ke={data:function(){return{ticket:new y("","","","","","","")}},created:function(){this.$store.dispatch("status/loadStatuses"),this.$store.dispatch("user/loadUsers")},methods:{addTicket:function(){this.$store.dispatch("ticket/createTicket",this.ticket),this.$router.push("/tickets")}},computed:{statuses:function(){return this.$store.getters["status/getStatuses"]},users:function(){return this.$store.getters["user/getUsers"]}}},be=ke,xe=Object(u["a"])(be,ge,_e,!1,null,null,null);xe.options.__file="NewTicket.vue";var ye=xe.exports,we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text",attrs:{"primary-title":""}},[s("v-icon",[e._v("\n                list\n            ")]),e._v("\n            Update Ticket: "+e._s(e.ticket._id)+"\n        ")],1),s("v-card-text",[s("v-form",[s("v-icon",[e._v("\n                    face\n                ")]),s("v-text-field",{attrs:{label:"Customer",required:"",hint:"Customer's name here..."},model:{value:e.ticket.customer,callback:function(t){e.$set(e.ticket,"customer",t)},expression:"ticket.customer"}}),s("v-icon",[e._v("\n                    group\n                ")]),s("v-text-field",{attrs:{hint:"Type de company's name here...",label:"Company",required:""},model:{value:e.ticket.company,callback:function(t){e.$set(e.ticket,"company",t)},expression:"ticket.company"}}),s("v-text-field",{attrs:{label:"Subject",required:""},model:{value:e.ticket.subject,callback:function(t){e.$set(e.ticket,"subject",t)},expression:"ticket.subject"}}),s("v-icon",[e._v("\n                    assignment\n                ")]),s("v-textarea",{attrs:{label:"Description",hint:"Type the description here..."},model:{value:e.ticket.description,callback:function(t){e.$set(e.ticket,"description",t)},expression:"ticket.description"}}),s("v-select",{attrs:{items:e.statuses,label:"Status","item-text":"status","item-value":"_id"},model:{value:e.ticket.status,callback:function(t){e.$set(e.ticket,"status",t)},expression:"ticket.status"}}),s("v-select",{attrs:{items:e.users,"item-text":"name","item-value":"_id",label:"User",hint:"User assigned"},model:{value:e.ticket.assigned,callback:function(t){e.$set(e.ticket,"assigned",t)},expression:"ticket.assigned"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",router:"",to:"/"}},[e._v("\n                Cancel\n            ")]),s("v-btn",{attrs:{color:"success"},on:{click:e.updateTicket}},[e._v("\n            \n            Update\n            ")])],1)],1)],1)},Te=[],Ae={props:["id"],data:function(){return{}},created:function(){this.$store.dispatch("status/loadStatuses"),this.$store.dispatch("user/loadUsers")},methods:{updateTicket:function(){this.$store.dispatch("ticket/updateTicket",this.ticket),this.$router.push("/tickets")}},computed:{statuses:function(){return this.$store.getters["status/getStatuses"]},users:function(){return this.$store.getters["user/getUsers"]},ticket:function(){var e=this;return this.$store.getters["ticket/loadedTickets"].find(function(t){return t._id==e.id})}}},$e=Ae,Ce=Object(u["a"])($e,we,Te,!1,null,null,null);Ce.options.__file="EditTicket.vue";var Re=Ce.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-card",[s("v-card-title",[s("v-icon",[e._v("\n          assignment_ind\n      ")]),e._v("\n      Roles\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{headers:e.headers,items:e.roles,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.name))]),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(s){e.editRole(t.item)}}},[e._v("\n                  edit\n              ")]),s("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(s){e.removeRole(t.item)}}},[e._v("\n                  delete\n              ")])],1)]}}])},[s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.editingRole,callback:function(t){e.editingRole=t},expression:"editingRole"}},[s("edit-role",{attrs:{role:e.roleEditing},on:{cancelEditing:e.cancelEditing}})],1),s("v-dialog",{attrs:{width:"300px"},model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}},[s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n                Remove role\n            ")]),s("v-card-text",[e.roleToDelete?s("p",[e._v("\n                  Do you really want to delete this role:\n                  "+e._s(e.roleToDelete.name)+"\n              ")]):e._e()]),s("v-card-actions",[s("v-btn",{staticClass:"error",on:{click:e.cancelRemove}},[s("v-icon",[e._v("\n                      close\n                  ")])],1),s("v-btn",{staticClass:"success",on:{click:e.onRemoveRole}},[s("v-icon",[e._v("\n                      check\n                  ")])],1)],1)],1)],1),s("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",fab:"",dark:"",bottom:"",right:"",fixed:"",color:"blue"},slot:"activator"},[s("v-icon",[e._v("add")])],1),s("new-role",{on:{cancel:e.closeModal}})],1)],1)],1)},Ue=[],Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        Create new Role\n    ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name role",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.closeModal}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:!e.name},on:{click:e.addRole}},[e._v("\n            Add\n            "),s("v-spacer"),s("v-icon",[e._v("\n                send\n            ")])],1)],1)],1)},Me=[],je={data:function(){return{name:""}},methods:{closeModal:function(){this.$emit("cancel",!1)},addRole:function(){this.$store.dispatch("roles/storeRole",{name:this.name}),this.$emit("cancel",!1),this.name=""}}},De=je,Le=Object(u["a"])(De,Ee,Me,!1,null,null,null);Le.options.__file="ModalNewRole.vue";var Oe=Le.exports,Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"headline blue white--text"},[e._v("\n        Edit Role\n    ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{placeholder:"Name role",required:""},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:e.cancelEditing}},[e._v("\n            Cancel\n            "),s("v-icon",[e._v("\n                cancel\n            ")])],1),s("v-btn",{staticClass:"success",attrs:{disabled:!e.role.name},on:{click:e.updateRole}},[e._v("\n            Update\n            "),s("v-spacer"),s("v-icon",[e._v("\n                refresh\n            ")])],1)],1)],1)},Pe=[],ze=function e(t,s){Object(x["a"])(this,e),this.id=t,this.name=s},Ge={props:["role"],data:function(){return{}},methods:{cancelEditing:function(){this.$emit("cancelEditing",!1)},updateRole:function(){this.$store.dispatch("roles/updateRole",this.role),this.$emit("cancelEditing",!1)}}},Ne=Ge,qe=Object(u["a"])(Ne,Ie,Pe,!1,null,null,null);qe.options.__file="EditRole.vue";var Ye=qe.exports,Fe={components:{"new-role":Oe,"edit-role":Ye},data:function(){return{headers:[{text:"Name",value:"name"},{text:"Actions",name:"actions",sortable:!1}],search:"",dialog:!1,remove:!1,roleToDelete:null,roleEditing:new ze("",""),editingRole:!1}},created:function(){this.$store.dispatch("roles/loadRoles")},methods:{closeModal:function(e){this.dialog=!1},editRole:function(e){this.roleEditing=e,this.editingRole=!0},cancelEditing:function(){this.roleEditing=new ze("",""),this.editingRole=!1},removeRole:function(e){this.roleToDelete=e,this.remove=!0},cancelRemove:function(){this.remove=!1,this.roleToDelete},onRemoveRole:function(){this.$store.dispatch("roles/removeRole",this.roleToDelete._id),this.remove=!1,this.roleToDelete=null}},computed:{roles:function(){return this.$store.getters["roles/getRoles"]}}},Je=Fe,Ve=Object(u["a"])(Je,Se,Ue,!1,null,null,null);Ve.options.__file="Roles.vue";var He=Ve.exports,Ke=s("2f62"),Xe={API_URL:"https://calm-springs-54875.herokuapp.com/api"},Be=s("bc3a"),Qe=s.n(Be),We={namespaced:!0,state:{statuses:[]},mutations:{setLoadedStatuses:function(e,t){e.statuses=t},createStatus:function(e,t){e.statuses.push(t)},removeStatus:function(e,t){e.statuses=e.statuses.filter(function(e){return e._id!=t})}},actions:{loadStatuses:function(e){var t=e.commit,s=(e.getters,e.rootGetters);Qe.a.get("".concat(Xe.API_URL,"/statuses"),{headers:{authorization:s["user/getToken"]}}).then(function(e){t("setLoadedStatuses",e.data.data)}).catch(function(e){dispatch("message/modifyAlert",!0,{root:!0}),dispatch("message/modfyTypeAlert","error",{root:!0}),dispatch("message/modifyMessageAlert","Error loading statuses",{root:!0})})},storeStatus:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.post("".concat(Xe.API_URL,"/statuses"),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("createStatus",e.data.data),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error creating the status",{root:!0})})},updateStatus:function(e,t){e.commit},removeStatus:function(e,t){var s=e.dispatch,a=e.commit,o=e.rootGetters;Qe.a.delete("".concat(Xe.API_URL,"/statuses/").concat(t),{headers:{authorization:o["user/getToken"]}}).then(function(e){a("removeStatus",t),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error removing the status",{root:!0})})}},getters:{getStatuses:function(e){return e.statuses}}},Ze={namespaced:!0,state:{tickets:[]},mutations:{setLoadedTickets:function(e,t){e.tickets=t},createTicket:function(e,t){e.tickets.push(t)},updateTicket:function(e,t){e.tickets=e.tickets.map(function(s,a){s._id==t._id&&(e.tickets[a]=t)})},removeTicket:function(e,t){e.tickets=e.tickets.filter(function(e){return e._id!=t._id})}},actions:{loadTickets:function(e){var t=e.commit,s=(e.getters,e.rootGetters);Qe.a.get("".concat(Xe.API_URL,"/tickets"),{headers:{authorization:s["user/getToken"]}}).then(function(e){t("setLoadedTickets",e.data.data)}).catch(function(e){console.log(e)})},createTicket:function(e,t){var s=e.dispatch,a=e.commit,o=e.rootGetters;Qe.a.post("".concat(Xe.API_URL,"/tickets"),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("createTicket",e.data.data),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error creating the ticket",{root:!0})})},updateTicket:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.put("".concat(Xe.API_URL,"/tickets/").concat(t._id),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("updateTicket",t),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error updating the ticket",{root:!0})})},removeTicket:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.delete("".concat(Xe.API_URL,"/tickets/").concat(t._id),{headers:{authorization:o["user/getToken"]}}).then(function(e){a("removeTicket",t),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error removing the ticket",{root:!0})})}},getters:{loadedTickets:function(e){return e.tickets},getTicket:function(e,t){return e.tickets.find(function(e){return e._id==t._id})}}},et={namespaced:!0,state:{roles:[]},mutations:{setLoadedRoles:function(e,t){e.roles=t},addRole:function(e,t){e.roles.push(t)},updateRole:function(e,t){},removeRole:function(e,t){e.roles=e.roles.filter(function(e){return e._id!=t}),console.log("Role removed ",e.roles)}},actions:{loadRoles:function(e){var t=e.commit,s=e.rootGetters;Qe.a.get("".concat(Xe.API_URL,"/roles"),{headers:{authorization:s["user/getToken"]}}).then(function(e){t("setLoadedRoles",e.data.data)}).catch(function(e){console.log(e)})},storeRole:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.post("".concat(Xe.API_URL,"/roles"),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("addRole",e.data.data),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert","New role created",{root:!0})}).catch(function(e){console.log(e)})},updateRole:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.put("".concat(Xe.API_URL,"/roles/").concat(t._id),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("updateRole",t),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){console.log(e)})},removeRole:function(e,t){var s=e.dispatch,a=e.commit,o=(e.getters,e.rootGetters);Qe.a.delete("".concat(Xe.API_URL,"/roles/").concat(t),{headers:{authorization:o["user/getToken"]}}).then(function(e){a("removeRole",t),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error removing the role",{root:!0})})}},getters:{getRoles:function(e){return e.roles}}},tt={namespaced:!0,state:{type:"",alert:!1,message:""},mutations:{setAlert:function(e,t){e.alert=t},setType:function(e,t){e.type=t},setMessage:function(e,t){e.message=t}},actions:{modifyAlert:function(e,t){var s=e.commit;s("setAlert",t)},modfyTypeAlert:function(e,t){var s=e.commit;s("setType",t)},modifyMessageAlert:function(e,t){var s=e.commit;s("setMessage",t)}},getters:{getAlert:function(e){return e.alert},getTypeAlert:function(e){return e.type},getMessage:function(e){return e.message}}},st={namespaced:!0,state:{users:[],user_authenticated:null,jwt_token:null},mutations:{setLoadedUsers:function(e,t){e.users=t},setUser:function(e,t){e.user_authenticated=t,localStorage.setItem("user",JSON.stringify(t))},setToken:function(e,t){e.jwt_token=t,localStorage.setItem("token",t)},addUser:function(e,t){e.users.push(t)},removeUser:function(e,t){},updateUser:function(e,t){e.user=e.user.map(function(e){e._id==t._id&&(e=t)})},removeUserAuthenticated:function(e){e.user_authenticated=null,e.jwt_token=null,localStorage.removeItem("user"),localStorage.removeItem("token")}},actions:{loginUser:function(e,t,s){var a=e.commit;Qe.a.post("".concat(Xe.API_URL,"/users/login"),t).then(function(e){a("setUser",e.data.user),a("setToken",e.data.token)}).catch(function(e){console.log(e)})},autoSignin:function(e,t){var s=e.commit;localStorage.clear(),s("setUser",t.user),s("setToken",t.token)},logout:function(e){var t=e.commit;t("removeUserAuthenticated")},loadUsers:function(e){var t=e.commit,s=(e.getters,e.rootGetters);Qe.a.get("".concat(Xe.API_URL,"/users"),{headers:{authorization:s["user/getToken"]}}).then(function(e){"";t("setLoadedUsers",e.data.data)}).catch(function(e){console.log("Error loading users",e)})},storeUser:function(e,t){var s=e.dispatch,a=e.commit,o=e.rootGetters;Qe.a.post("".concat(Xe.API_URL,"/users"),t,{headers:{authorization:o["user/getToken"]}}).then(function(e){a("addUser",e.data.data),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error creating the new user",{root:!0})})},removeUser:function(e,t){var s=e.dispatch,a=e.commit,o=e.rootGetters;Qe.a.delete("".concat(Xe.API_URL,"/users/").concat(t),{headers:{authorization:o["user/getToken"]}}).then(function(e){a("updatedUser",e.data.data),s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","success",{root:!0}),s("message/modifyMessageAlert",e.data.message,{root:!0})}).catch(function(e){s("message/modifyAlert",!0,{root:!0}),s("message/modfyTypeAlert","error",{root:!0}),s("message/modifyMessageAlert","Error creating the new user",{root:!0})})}},getters:{getUsers:function(e){return e.users},getUserAuthenticated:function(e){return e.user_authenticated},getToken:function(e){return e.jwt_token}}};a["default"].use(Ke["a"]);var at=new Ke["a"].Store({modules:{status:We,ticket:Ze,roles:et,user:st,message:tt}}),ot=function(e,t,s){at.getters["user/getUserAuthenticated"]?(console.log("NEXT FRIM AUTH"),s()):s("/signin")},nt=function(e,t,s){console.log("FROM loggedin",at.getters["user/getUserAuthenticated"]),at.getters["user/getUserAuthenticated"]?(console.log("from loggedin redirect to tickets"),s("/tickets")):s()};a["default"].use(m["a"]);var it=new m["a"]({mode:"history",base:"/",routes:[{path:"/signin",beforeEnter:nt,component:M},{path:"/tickets",beforeEnter:ot,component:$},{path:"/tickets/:id",props:!0,beforeEnter:ot,component:Re,name:"editTicket"},{path:"/new-ticket",beforeEnter:ot,component:ye},{path:"/status",beforeEnter:ot,component:Q},{path:"/users",beforeEnter:ot,component:pe},{path:"/roles",beforeEnter:ot,component:He},{path:"/about",beforeEnter:ot,component:_}]});a["default"].config.productionTip=!1,new a["default"]({router:it,store:at,render:function(e){return e(v)},created:function(){var e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));t&&e&&(localStorage.clear(),this.$store.dispatch("user/autoSignin",{user:t,token:e}))},watch:{user:function(){this.user?this.$router.push("/tickets"):this.$router.push("/signin")}},computed:{user:function(){return this.$store.getters["user/getUserAuthenticated"]},token:function(){return this.$store.getters["user/getToken"]}}}).$mount("#app")},"6b38":function(e,t,s){},"964b":function(e,t,s){"use strict";var a=s("6b38"),o=s.n(a);o.a},"9d85":function(e,t,s){"use strict";var a=s("dee3"),o=s.n(a);o.a},dee3:function(e,t,s){}});
//# sourceMappingURL=app.7559717c.js.map